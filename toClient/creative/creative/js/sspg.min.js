"use strict";/* sspg v.0.2.18 built: Wed May 06 2015 16:57:17 GMT-0400 (EDT) */var undertone = function(){}; (function(window, myWin){
var n,r=window;
function s(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function aa(a){var b=s(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function da(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function w(a){return a[ea]||(a[ea]=++fa)}var ea="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),fa=0;function ga(a,b){function c(){}c.prototype=b.prototype;a.Ab=b.prototype;a.prototype=new c}
function ha(a){function b(){e=!0;for(var a=0;a<d.length;a++)c(d[a].fn,d[a].args||[],d[a].ctxt);d=[]}function c(c,b,e){try{e||(e=a.e),c.apply(e,b||[])}catch(g){}}var e=!1,d=[];a.e.addEventListener?a.f.addEventListener("DOMContentLoaded",function(){b()},!1):function(){if(!a.f.getElementsByTagName("body")[0])setTimeout(arguments.callee,0);else if(a.f.uniqueID||!a.f.expando){var c=a.f.createElement("document:ready");try{c.doScroll("left"),b()}catch(e){setTimeout(arguments.callee,0)}}}();return{ready:function(f,
k,h){a.s=a.f.getElementsByTagName("body")[0];if(a.friendlyFrame||!e&&!a.Ta){var g=!0;try{var l=a.f.createElement("div");a.s.appendChild(l);b();a.s.removeChild(l)}catch(p){g=!1}e=g}e?c(f,k,h):d[d.length]={fn:f,ctxt:h,args:k}}}}
function ia(a){this.e=this.s=this.f=null;this.Ua="c-";this.Va="BACKGROUND";this.Za="__utc__=1";this.U=function(){return this.C&&this.f.domain&&this.f.domain!=this.e.location.host?!0:!1};this.i="__UT__";this.j=this.C=!1;this.aa=function(a,c){var b={},g={},e=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),d=a.match(/(Android);?[\s\/]+([\d.]+)?/),m=!!a.match(/\(Macintosh\; Intel /),u=a.match(/(iPad).*OS\s([\d_]+)/),q=a.match(/(iPod)(.*OS\s([\d_]+))?/),A=!u&&a.match(/(iPhone\sOS)\s([\d_]+)/),v=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),
Ya=/Win\d{2}|Windows/.test(c),ra=a.match(/Windows Phone ([\d.]+)/),Za=v&&a.match(/TouchPad/),sa=a.match(/Kindle\/([\d.]+)/),ba=a.match(/Silk\/([\d._]+)/),ca=a.match(/(BlackBerry).*Version\/([\d.]+)/),J=a.match(/(BB10).*Version\/([\d.]+)/),ta=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),ua=a.match(/PlayBook/),K=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),T=a.match(/Firefox\/([\d.]+)/),U=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),va=!K&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),
wa=va||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(g.webkit=!!e)g.version=e[1];d&&(b.android=!0,b.version=d[2]);A&&!q&&(b.ios=b.iphone=!0,b.version=A[2].replace(/_/g,"."));u&&(b.ios=b.Cb=!0,b.version=u[2].replace(/_/g,"."));q&&(b.ios=b.Db=!0,b.version=q[3]?q[3].replace(/_/g,"."):null);ra&&(b.wp=!0,b.version=ra[1]);v&&(b.webos=!0,b.version=v[2]);Za&&(b.touchpad=!0);ca&&(b.blackberry=!0,b.version=ca[2]);J&&(b.bb10=!0,b.version=J[2]);ta&&(b.rimtabletos=!0,b.version=ta[2]);
ua&&(g.playbook=!0);sa&&(b.kindle=!0,b.version=sa[1]);ba&&(g.silk=!0,g.version=ba[1]);!ba&&b.android&&a.match(/Kindle Fire/)&&(g.Hb=!0);K&&(g.chrome=!0,g.version=K[1]);T&&(g.firefox=!0,g.version=T[1]);U&&(g.ie=!0,g.version=U[1]);wa&&(m||b.ios||Ya)&&(g.safari=!0,b.Bb||(g.version=wa[1]));va&&(g.webview=!0);b.tablet=!!(u||ua||d&&!a.match(/Mobile/)||T&&a.match(/Tablet/)||U&&!a.match(/Phone/)&&a.match(/Touch/));b.phone=!(b.tablet||b.ipod||!(d||A||v||ca||J||K&&a.match(/Android/)||K&&a.match(/CriOS\/([\d.]+)/)||
T&&a.match(/Mobile/)||U&&a.match(/Touch/)));return{os:b,browser:g}};if("undefined"==typeof window.Sa||null==window.Sa)try{this.e=window,this.f=a?"undefined"!=typeof window.parent.document?window.parent.document:window.document:window.document}catch(b){this.e=window,this.f=window.document}else this.e=window.Kb,this.f=window.Sa;this.s=this.f.getElementsByTagName("body")[0];this.aa=this.aa(navigator.userAgent,navigator.platform);if(this.C=-1!=this.e.navigator.appVersion.indexOf("MSIE")?!0:!1){for(var c=
-1,e=document.createElement("b");e.innerHTML="\x3c!--[if gt IE "+ ++c+"]>1<![endif]--\x3e",0<e.innerHTML;);this.mb=c}try{this.j=this.e&&this.e.mraid||window&&window.mraid||a&&window&&window.top&&window.top.mraid?!0:!1}catch(d){this.j=!1}}
function ja(a){var b=a||{};this.nb=function(a,b){var d="[object Array]"===Object.prototype.toString.apply(a);d||(a=a.replace(/^\s|\s$/g,""));if("undefined"!=typeof a&&0<a.length){var f=0;a=d?a:[a];for(var k=!0,h=function(){f++;f===a.length&&b&&b(k)},d=function(){k=!1;h()},g=0;g<a.length;g++)this.$(a[g],h,d,d)}else b&&b(d)};this.$=function(a,b,d,f){if(""!=a){var k=new Image;d&&(k.onabort=d);f&&(k.onerror=f);b&&(k.onload=b);k.src=a}else b()};this.ob=function(a,e,d,f,k){a=a.replace(/^\s|\s$/g,"");k=
k||!1;d=d||!1;if(a){var h=b.f.createElement("script");h.type="text/javascript";h.onreadystatechange=h.onload=function(){var a=h.readyState;!d||k&&k()||("undefined"==typeof h.addEventListener||a)&&!/loaded/.test(a)||(setTimeout(d,0),d=!1,h.onreadystatechange=h.onload=function(){})};e=b.e.setTimeout(function(){f()},e);h.src=a;b.s.appendChild(h);h.async=!1;return e}return null}}
function ka(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function la(a){var b=[];ma(new na,a,b);return b.join("")}function na(){this.R=void 0}
function ma(a,b,c){switch(typeof b){case "string":oa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if("array"==s(b)){var e=b.length;c.push("[");for(var d="",f=0;f<e;f++)c.push(d),d=b[f],ma(a,a.R?a.R.call(b,String(f),d):d,c),d=",";c.push("]");break}c.push("{");e="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(d=b[f],"function"!=typeof d&&(c.push(e),
oa(f,c),c.push(":"),ma(a,a.R?a.R.call(b,f,d):d,c),e=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},qa=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function oa(a,b){b.push('"',a.replace(qa,function(a){if(a in pa)return pa[a];var b=a.charCodeAt(0),d="\\u";16>b?d+="000":256>b?d+="00":4096>b&&(d+="0");return pa[a]=d+b.toString(16)}),'"')}
function xa(a){function b(){try{v+l[2]in h?h.addEventListener(v+l[1],function(){c.apply(this,arguments)},1):h.addEventListener?(a.addEventListener(p[0],d,1),a.addEventListener(p[1],e,1)):h.attachEvent&&(h.attachEvent("onfocusin",d),h.attachEvent("onfocusout",e))}catch(g){}}function c(){h[v+l[2]]?e():d()}function e(){f(2);k.call(this,"hidden")}function d(){f(1);k.call(this,"visible")}function f(a){if(a)for(A=1==a?m:u,a=A.length;a--;)A[a]()}function k(a){"function"==typeof a&&q.push(a);var g=q.length;
if(g)if(v)for(;g--;)q[g].call(this,h[v+l[0]]);else for(;g--;)q[g].call(this,a)}var h=a.document,g=["webkit","ms","o","moz","khtml"],l=["VisibilityState","visibilitychange","Hidden"],p=["focus","blur"],m=[],u=[],q=[],A=[],v="";return{B:function(){a:if(!v){var a,c;for(a=0;c=g[a++];)if(c+l[2]in h){v=c;break a}}b()},qb:function(a){"function"==typeof a&&m.push(a)},pb:function(a){"function"==typeof a&&u.push(a)}}}
function ya(){ia.call(this,!0);this.la=this.Z=this.xb=null;this.Ta=!1;this.timeEngaged=this.timeViewed=0;this.timeViewStarted=-1;this.FORMAT=this.FORMAT||"";this.timeEngagementStarted=-1;this.isEngaged=this.isViewed=!1;this.I=null;this._autoCloseTimePeriod=15E3;this.sa=1E3;this.M=0;this.xa=this.pa=this.bb=this.Ha=this.oa=!1;this.ya=!0;this.ignoredEvents={yt_video_loaded:1,yt_video_start:1,yt_video_playing:1,yt_video_resume:1,yt_video_pause:1,yt_video_stopped:1,yt_video_firstQuartile:1,yt_video_midpoint:1,
yt_video_thirdQuartile:1,yt_video_complete:1,yt_video_volume_changed:1,yt_video_ended:1,yt_video_mute:1,yt_video_unmute:1,yt_video_click_thru:1,yt_video_rewind:1,yt_video_videoreplay:1,yt_video_playerReady:1,video_loaded:1,video_start:1,video_playing:1,video_resume:1,video_pause:1,video_stopped:1,video_firstQuartile:1,video_midpoint:1,video_thirdQuartile:1,video_complete:1,video_volume_changed:1,video_ended:1,video_mute:1,video_unmute:1,video_click_thru:1,video_rewind:1,video_videoreplay:1,video_playerReady:1,
apfs_start:1,apfs_pause:1,apfs_firstQuartile:1,apfs_midpoint:1,apfs_thirdQuartile:1,apfs_complete:1,ready:1,start:1,interaction:1,autoclose:1,close:1,ERROR:1};this.ignoredElements={CLOSE_BUTTON:1};this.da={};this.T=!1;this.H={};this.p=null;this.L=1E4;this.F="";this.K=!1;this.Ca="br";this.t=function(){var a=window.top.innerHeight||window.top.document.documentElement.clientHeight;200>a&&window.top.screen&&window.top.screen.availHeight&&(a=window.top.screen.availHeight);return a};this.ea=function(){return window.top.innerWidth||
window.top.document.documentElement.clientWidth};this.startTime=function(a,b){this[a]||(this[b]=Math.floor(new Date/1E3),this[a]=!0)};this.za=function(a,b,c){this[a]&&(this[a]=!1,this[c]+=Math.floor(new Date/1E3)-this[b])};this.ka=function(){this.startTime("isViewed","timeViewStarted")};this.ca=function(){this.za("isViewed","timeViewStarted","timeViewed")};this.kb=function(){this.za("isEngaged","timeEngagementStarted","timeEngaged")};this.S=function(){this.I&&(this.oa?this.e.clearInterval(this.I):
this.e.clearTimeout(this.I));this.I=null};this.Y=function(a){return!!this.ignoredEvents[a]};this.wa=function(a){return!!this.ignoredElements[a]}}ga(ya,ia);
function za(a,b,c,e,d){this.a=new ya;if(d&&(d.waitForDOMLoaded&&(this.a.Ta=d.waitForDOMLoaded),void 0!=typeof d.iloc&&(this.a.Ca=d.iloc),d.forceMRAID&&(this.a.j=!0),void 0!=typeof d.friendlyFrame&&(this.a.friendlyFrame=d.friendlyFrame),"undefined"!=typeof d.pubWidth)){var f=parseInt(d.pubWidth.toString());0<f&&(this.a.xb=f)}var k=this;this.k=function(g,b){var c=k.a.timeEngaged,d=k.a.timeViewed,e=(new Date).getTime(),f=Math.floor(e/1E3),h=g.replace(k.a.Ua,"");if(a&&g&&3<g.length){b||(b=g!=h?k.a.Va:
k.a.FORMAT);k.a.ignoredEvents[g]||k.a.ignoredEvents[h]||k.a.ignoredElements[b]||(-1==g.indexOf("REDIRECT")&&-1==h.indexOf("REDIRECT")&&(k.a.S(),k.sendFormatMessage("-t-stopAutoCloseTimer"),k.sendFormatMessage("-t-interaction")),k.a.T||(k.a.T=!0,k.k("interaction",k.a.FORMAT),-1<g.indexOf("REDIRECT")?k.sendFormatMessage("-t-redirect"):k.sendFormatMessage("-t-interaction")));k.a.Eb&&(c+=f-k.a.timeEngagementStarted);k.a.isViewed&&(d+=f-k.a.timeViewStarted);if(isNaN(c)||0>c)c=0;if(isNaN(d)||0>d)d=0;var l=
f=0,p=0,h=["all",h],m=["all",b];k.P.$(a+g+"&eid="+b+"&ts="+c+"&tv="+d+"&cb2="+(new Date).getTime());if(null!=k.a.p)for(p=0;p<h.length;p++)if("undefined"!=typeof k.a.p[h[p]])for(l=0;l<m.length;l++)if("undefined"!=typeof k.a.p[h[p]][m[l]])for(f=0;f<k.a.p[h[p]][m[l]].length;f++){var J=k.a.p[h[p]][m[l]][f].replace(/%elementid%/g,b).replace(/%eventname%/g,g).replace(/%randomnumber%/g,e);k.P.$(J)}null!=k.a.la&&k.a.la(g,b,c,d)}};this.info=function(a,g,b){a={clickBase:a,message:this.a.i+"Info",clickTags:g,
encodeClickUrl:this.a.ya,iloc:this.a.Ca};for(var c in b)a[c]||(a[c]=b[c]);return a};this.Ga=function(){if(this.a.F)var a=this,g=0,b=null,c=function(){var d;!a.a.K&&"undefined"!=typeof window.PUBLISHER_FIX_LOADED&&window.PUBLISHER_FIX_LOADED?(a.a.K=!0,null!=b&&a.a.e.clearTimeout(b),b=null,a.Da(),d=!0):d=!1;!d&&100*++g<=a.a.L&&setTimeout(c,100)},b=this.P.ob(this.a.F,this.a.L,c,function(){g=a.a.L;a.k("ERROR","LOAD_PF_"+a.a.F);a.end()},function(){return a.a.K})};this.ta=function(){this.a.S();this.sendFormatMessage("close");
this.sendFormatMessage("scroll");this.a.xa||this.close();this.a.T||(this.a.T=!0,this.k("autoclose",this.a.FORMAT))};this.sendFormatMessage=function(a,g){this.a.da.postMessage&&""!=a&&("undefined"==typeof g&&(a=this.a.i+a),this.a.da.postMessage(a,"*"))};this.Ja=function(a,g){this.k("ready",this.a.FORMAT);if(a.source){var d=this.info(b,c,{adConfig:this.a.e.ut_adConfig,isMRAID:this.a.j,isIE:this.a.mb||this.a.C,detect:this.a.aa,expandHeight:this.a.g}),d=la(d);this.a.da=a.source;this.sendFormatMessage(d,
!1)}g&&g.iaConfig&&g.iaConfig.autocloseTimePeriod&&(this.a._autoCloseTimePeriod=g.iaConfig.autocloseTimePeriod)};this.handleMessage=function(a){if(a&&"object"==typeof a&&a.A)if(a=a.A,a.data==this.a.i+"ready")this.Ja(a);else if(this.a.Ha&&a.data==this.a.i+"startACT"){if(this.a.bb||!this.a.pa)this.a.pa=!0,this.ia()}else{try{var g=ka(a.data)}catch(b){return}g.message==this.a.i+"ready"&&this.Ja(a,g.data?g.data:g);if(this.a.j&&g.data&&g.message&&g.message==this.a.i+"MRAID")for(var c in g.data)if("function"==
typeof mraid[c]){a="array"==typeof g.data[c]?g.data[c]:[g.data[c]];try{mraid[c].apply(null,a)}catch(d){this.k("ERROR","MRAID_METHOD_"+c)}}else this.k("ERROR","MRAID_METHOD_"+c);g.data&&g.data.target&&g.data.target.id&&0<g.data.target.id.length&&this.k(g.message.replace(this.a.i,""),g.data.target.id)}};this.start=function(){this.a.F&&!this.a.K&&this.Ga()};this.end=function(){};this.ga=function(){function a(){mraid.addEventListener("viewableChange",function(){mraid.isViewable()&&g.start&&g.start()})}
var g=this,b=mraid.getState();"expanded"==b||"default"==b?mraid.isViewable()?g.start&&g.start():a():mraid.addEventListener("ready",a)};this.Da=function(){try{var a=this;if(a.a.F&&!a.a.K)a.Ga();else if(e){var g=[],b=0;try{b=this.a.ea()}catch(c){}e.mobile&&e.mobile.length&&768>b?g=e.mobile:e.alternate&&e.alternate.length&&768<=b?g=e.alternate:e.mobile||e.alternate||(g=e);0<g.length?a.P.nb(g,function(){a.domReady.ready(function(){a.a.j?a.ga():a.start&&a.start()})}):a.domReady.ready(function(){a.a.j?
a.ga():a.start&&a.start()})}else a.domReady.ready(function(){a.a.j?a.ga():a.start&&a.start()})}catch(d){}};if(d){"undefined"!=typeof d.trackingDebugFunction&&(this.a.la=d.trackingDebugFunction);"undefined"!=typeof d.closeDebugFunction&&(this.a.Z=d.closeDebugFunction);"undefined"!=typeof d.encodeClickUrl&&(this.a.ya=!!d.encodeClickUrl);"undefined"==typeof d.autoCloseTimePeriod||isNaN(d.autoCloseTimePeriod)||(this.a._autoCloseTimePeriod=parseInt(d.autoCloseTimePeriod.toString()));"undefined"==typeof d.publisherFixTimePeriod||
isNaN(d.publisherFixTimePeriod)||(this.a.L=parseInt(d.publisherFixTimePeriod.toString()));"undefined"!=typeof d.utPatchURL&&d.utPatchURL&&(this.a.F=d.utPatchURL.toString());for(var h in{ignoredElements:1,ignoredEvents:1})if(d[h]&&"object"==typeof d[h])for(var g in d[h])this.a[h][g]=1;if("string"==typeof d.thirdPartyTrackers)try{d.thirdPartyTrackers=ka(d.thirdPartyTrackers)}catch(l){confif.thirdPartyTrackers=""}if(d.thirdPartyTrackers&&"object"==typeof d.thirdPartyTrackers){this.a.p={};for(var p in d.thirdPartyTrackers)if(f=
d.thirdPartyTrackers[p],this.a.p[p]=this.a.p[p]||{},f&&"object"==typeof f)for(var m in f)this.a.p[p][m]=f[m].concat()}}this.P=new ja(this.a);this.domReady=new ha(this.a);this.H=xa(this.a.e);this.H.B();this.Y=function(a){return this.a.Y(a)};this.wa=function(a){return this.a.wa(a)};this.ab=function(a){this.H&&this.H.qb(a)};this.$a=function(a){this.H&&this.H.pb(a)};this.ready=function(a,g,b){this.domReady.ready(a,g,b)};this.ia=function(){var a=this;a.a.S();a.a.M=0;a.a.I=a.a.oa?a.a.e.setInterval(function(){a.a.M++;
a.sendFormatMessage("-kv-act-"+a.a.M);a.a.M*a.a.sa>=a.a._autoCloseTimePeriod&&a.ta()},a.a.sa):a.a.e.setTimeout(function(){a.ta()},a.a._autoCloseTimePeriod);a.sendFormatMessage("-t-resetAutoCloseTimer")}}function Aa(a){if(!Ba.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ca,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Da,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ea,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Fa,"&quot;"));return a}var Ca=/&/g,Da=/</g,Ea=/>/g,Fa=/\"/g,Ba=/[&<>\"]/;
function Ga(a,b){return a<b?-1:a>b?1:0}var x,Ha,y,Ia;function Ja(){return r.navigator?r.navigator.userAgent:null}Ia=y=Ha=x=!1;var z;if(z=Ja()){var Ka=r.navigator;x=0==z.indexOf("Opera");Ha=!x&&-1!=z.indexOf("MSIE");y=!x&&-1!=z.indexOf("WebKit");Ia=!x&&!y&&"Gecko"==Ka.product}var La=x,B=Ha,C=Ia,D=y;function Ma(){var a=r.document;return a?a.documentMode:void 0}var E;
a:{var F="",G;if(La&&r.opera)var Na=r.opera.version,F="function"==typeof Na?Na():Na;else if(C?G=/rv\:([^\);]+)(\)|;)/:B?G=/MSIE\s+([^\);]+)(\)|;)/:D&&(G=/WebKit\/(\S+)/),G)var Oa=G.exec(Ja()),F=Oa?Oa[1]:"";if(B){var Pa=Ma();if(Pa>parseFloat(F)){E=String(Pa);break a}}E=F}var Qa={};
function H(a){var b;if(!(b=Qa[a])){b=0;for(var c=String(E).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=Math.max(c.length,e.length),f=0;0==b&&f<d;f++){var k=c[f]||"",h=e[f]||"",g=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var p=g.exec(k)||["","",""],m=l.exec(h)||["","",""];if(0==p[0].length&&0==m[0].length)break;b=Ga(0==p[1].length?0:parseInt(p[1],10),0==m[1].length?0:parseInt(m[1],10))||Ga(0==p[2].length,0==m[2].length)||
Ga(p[2],m[2])}while(0==b)}b=Qa[a]=0<=b}return b}var Ra=r.document,Ta=Ra&&B?Ma()||("CSS1Compat"==Ra.compatMode?parseInt(E,10):5):void 0;function Ua(){}var Va=0;n=Ua.prototype;n.key=0;n.G=!1;n.ua=!1;n.B=function(a,b,c,e,d,f){if("function"==s(a))this.Ea=!0;else if(a&&a.handleEvent&&"function"==s(a.handleEvent))this.Ea=!1;else throw Error("Invalid listener argument");this.J=a;this.Ma=b;this.src=c;this.type=e;this.va=!!d;this.fa=f;this.ua=!1;this.key=++Va;this.G=!1};
n.handleEvent=function(a){return this.Ea?this.J.call(this.fa||this.src,a):this.J.handleEvent.call(this.J,a)};function Wa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $a(a,b){for(var c,e,d=1;d<arguments.length;d++){e=arguments[d];for(c in e)a[c]=e[c];for(var f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}}var ab=!B||B&&9<=Ta,bb=B&&!H("9");
!D||H("528");C&&H("1.9b")||B&&H("8")||La&&H("9.5")||D&&H("528");C&&!H("8")||B&&H("9");var I=Array.prototype,cb=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(t(a))return t(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},db=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,d=t(a)?a.split(""):a,f=0;f<e;f++)f in d&&b.call(c,d[f],f,a)};
function eb(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]}function fb(a,b,c){return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,b,c)}function L(a,b){this.type=a;this.currentTarget=this.target=b}L.prototype.ha=!1;L.prototype.defaultPrevented=!1;L.prototype.preventDefault=function(){this.defaultPrevented=!0};function gb(a){gb[" "](a);return a}gb[" "]=function(){};function M(a,b){a&&this.B(a,b)}ga(M,L);n=M.prototype;n.target=null;n.relatedTarget=null;
n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.A=null;
n.B=function(a,b){var c=this.type=a.type;L.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(C){var d;a:{try{gb(e.nodeName);d=!0;break a}catch(f){}d=!1}d||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;this.offsetX=D||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=D||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.A=a;a.defaultPrevented&&this.preventDefault();delete this.ha};
n.preventDefault=function(){M.Ab.preventDefault.call(this);var a=this.A;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,bb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var N={},O={},P={},Q={};
function R(a,b,c,e,d){if(b)if("array"==s(b))for(var f=0;f<b.length;f++)R(a,b[f],c,e,d);else{e=!!e;var k=O;b in k||(k[b]={o:0,v:0});k=k[b];e in k||(k[e]={o:0,v:0},k.o++);var k=k[e],h=w(a),g;k.v++;if(k[h])for(g=k[h],f=0;f<g.length;f++){if(k=g[f],k.J==c&&k.fa==d){if(k.G)break;return}}else g=k[h]=[],k.o++;f=hb();f.src=a;k=new Ua;k.B(c,f,a,b,e,d);c=k.key;f.key=c;g.push(k);N[c]=k;P[h]||(P[h]=[]);P[h].push(k);a.addEventListener?a!=r&&a.jb||a.addEventListener(b,f,e):a.attachEvent(b in Q?Q[b]:Q[b]="on"+b,
f)}else throw Error("Invalid event type");}function hb(){var a=ib,b=ab?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function S(a,b,c,e,d){if("array"==s(b))for(var f=0;f<b.length;f++)S(a,b[f],c,e,d);else{e=!!e;a:{f=O;if(b in f&&(f=f[b],e in f&&(f=f[e],a=w(a),f[a]))){a=f[a];break a}a=null}if(a)for(f=0;f<a.length;f++)if(a[f].J==c&&a[f].va==e&&a[f].fa==d){jb(a[f].key);break}}}
function jb(a){if(N[a]){var b=N[a];if(!b.G){var c=b.src,e=b.type,d=b.Ma,f=b.va;c.removeEventListener?c!=r&&c.jb||c.removeEventListener(e,d,f):c.detachEvent&&c.detachEvent(e in Q?Q[e]:Q[e]="on"+e,d);c=w(c);if(P[c]){var d=P[c],k=cb(d,b);0<=k&&I.splice.call(d,k,1);0==d.length&&delete P[c]}b.G=!0;if(b=O[e][f][c])b.Ia=!0,kb(e,f,c,b);delete N[a]}}}
function kb(a,b,c,e){if(!e.Q&&e.Ia){for(var d=0,f=0;d<e.length;d++)e[d].G?e[d].Ma.src=null:(d!=f&&(e[f]=e[d]),f++);e.length=f;e.Ia=!1;0==f&&(delete O[a][b][c],O[a][b].o--,0==O[a][b].o&&(delete O[a][b],O[a].o--),0==O[a].o&&delete O[a])}}function lb(a,b,c,e,d){var f=1;b=w(b);if(a[b]){a.v--;a=a[b];a.Q?a.Q++:a.Q=1;try{for(var k=a.length,h=0;h<k;h++){var g=a[h];g&&!g.G&&(f&=!1!==mb(g,d))}}finally{a.Q--,kb(c,e,b,a)}}return Boolean(f)}function mb(a,b){a.ua&&jb(a.key);return a.handleEvent(b)}
function ib(a,b){if(!N[a])return!0;var c=N[a],e=c.type,d=O;if(!(e in d))return!0;var d=d[e],f,k;if(!ab){var h;if(!(h=b))a:{h=["window","event"];for(var g=r;f=h.shift();)if(null!=g[f])g=g[f];else{h=null;break a}h=g}f=h;h=!0 in d;g=!1 in d;if(h){if(0>f.keyCode||void 0!=f.returnValue)return!0;a:{var l=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(p){l=!0}if(l||void 0==f.returnValue)f.returnValue=!0}}l=new M;l.B(f,this);f=!0;try{if(h){for(var m=[],u=l.currentTarget;u;u=u.parentNode)m.push(u);k=d[!0];
k.v=k.o;for(var q=m.length-1;!l.ha&&0<=q&&k.v;q--)l.currentTarget=m[q],f&=lb(k,m[q],e,!0,l);if(g)for(k=d[!1],k.v=k.o,q=0;!l.ha&&q<m.length&&k.v;q++)l.currentTarget=m[q],f&=lb(k,m[q],e,!1,l)}else f=mb(c,l)}finally{m&&(m.length=0)}return f}e=new M(b,this);return f=mb(c,e)}var nb;function ob(a,b){var c;c=a.className;c=t(c)&&c.match(/\S+/g)||[];for(var e=fb(arguments,1),d=c.length+e.length,f=c,k=0;k<e.length;k++)0<=cb(f,e[k])||f.push(e[k]);a.className=c.join(" ");return c.length==d}var pb=!B||B&&9<=Ta;
!C&&!B||B&&B&&9<=Ta||C&&H("1.9.1");B&&H("9");function qb(a,b){Wa(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:e in rb?a.setAttribute(rb[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,b):a[e]=b})}var rb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function sb(a,b,c){return tb(document,arguments)}function tb(a,b){var c=b[0],e=b[1];if(!pb&&e&&(e.name||e.type)){c=["<",c];e.name&&c.push(' name="',Aa(e.name),'"');if(e.type){c.push(' type="',Aa(e.type),'"');var d={};$a(d,e);delete d.type;e=d}c.push(">");c=c.join("")}c=a.createElement(c);e&&(t(e)?c.className=e:"array"==s(e)?ob.apply(null,[c].concat(e)):qb(c,e));2<b.length&&ub(a,c,b);return c}
function ub(a,b,c){function e(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var d=2;d<c.length;d++){var f=c[d];if(!aa(f)||da(f)&&0<f.nodeType)e(f);else{var k;a:{if(f&&"number"==typeof f.length){if(da(f)){k="function"==typeof f.item||"string"==typeof f.item;break a}if("function"==s(f)){k="function"==typeof f.item;break a}}k=!1}db(k?eb(f):f,e)}}}function vb(a,b){a.insertBefore(b,a.childNodes[0]||null)}function V(a){this.ba=a||r.document||document}
V.prototype.hb=function(a,b,c){return tb(this.ba,arguments)};V.prototype.createElement=function(a){return this.ba.createElement(a)};V.prototype.createTextNode=function(a){return this.ba.createTextNode(a)};V.prototype.appendChild=function(a,b){a.appendChild(b)};
function wb(a,b){var c=a?new V(9==a.nodeType?a:a.ownerDocument||a.document):nb||(nb=new V),e=[];e.push("<!DOCTYPE html>");e.push("<html><head>",'<style>html,body{height:100%;margin:0;padding:0;}</style><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge">',"</head><body>",b,"</body></html>");c=c.hb("iframe",{frameborder:0,style:'border:0;";//vertical-align:bottom;',src:'javascript:""'});a.appendChild(c);var e=
e.join(""),d=c.contentDocument||c.contentWindow.document;d.open();d.write(e);d.close();return c}
function W(a,b,c,e,d,f,k,h){this.log=function(){};h||(h={});h.waitForDOMLoaded=!0;if(h.inIframe||h.inFrameBuster)h.friendlyFrame=!0;h.leaveBehindHeight=parseInt(h.leaveBehindHeight,10);h.leaveBehindWidth=parseInt(h.leaveBehindWidth,10);h.O=!1;0<h.leaveBehindHeight&&0<h.leaveBehindWidth&&(h.O=!0);za.call(this,d,e,f,c,h);this.a.oa=h.useAutoCloseInterval;this.a.Ha=h.manualACTStart;this.a.xa=h.delayClose;this.a.D=null;this.a.Ya="ut_lb_";this.a.l="closed";this.a.X=!1;this.a.w=this.a.t();this.a.cb=this.a.ea();
this.a.g=this.a.w;this.a.Ra=["position:absolute;top:-200%;margin:0;padding:0;display:block;border:none;height:0;width:100%;height: 100%;z-index:2147483647;","position:absolute;margin:0;padding:0;display:block;border:none;width:100%;height: 100%;top: 0;left:0;z-index:2147483647;"];this.a.d=null;this.a.b=null;this.a.W=!1;this.na=function(){var a=this.a.s.clientWidth||this.a.cb;if(this.a&&(629<this.a.w||767<a))return!1;var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a};this.V=function(){if("opened"==this.a.l){this.a.ub=this.a.g;var a=this.a.ea(),b=this.a.g=this.a.t(),c=this.a.U();try{this.a.C&&c&&(this.a.g+=10);if(!this.na()||b>this.a.g)this.a.g=b,this.m(b);null!==this.a.b&&(c||(this.a.b.r||(this.a.b.contentWindow?this.a.b.r=this.a.b.contentWindow.document:this.a.b.contentDocument?this.a.b.r=this.a.b.contentDocument.document:this.a.b.document&&(this.a.b.r=this.a.b.document)),this.a.n||(this.a.n=this.a.b.r.getElementById("ut_iframe_reveal")),this.a.n.style.width=
a+"px",this.a.n.style.height=this.a.g+"px"),this.a.b.style.width=a+"px",this.a.b.style.height=this.a.g+"px",this.c.style.height=this.a.g+"px",this.u.style.height=this.a.g-1+"px")}catch(d){}}else if(this.a.qa||!h.autoexpand)this.a.d.style.visibility="none",this.Na(),this.La(),this.a.d.style.visibility="visible",this.m(h.leaveBehindHeight);this.sendFormatMessage("-t-afterwindowresize")};this.yb=function(){setTimeout(function(){window.scrollTo(0,1)})};this.N=0;this.Ba=function(){var a=this;a.yb();a.a.t()==
(a.a.ub||a.a.g)&&a.N&&5>a.N?(a.N++,setTimeout(function(){a.Ba()},100)):setTimeout(function(){a.m();a.V();setTimeout(function(){a.m();a.V();a.N=0;setTimeout(function(){a.m()},1500)},400)},40)};this.ib=function(){var g=this;this.a.d=sb("div",{id:"ut_container"+this.a.q,name:"ut_container"+this.a.q,className:"ut_container",style:this.a.Ra[0]});vb(this.a.s,this.a.d);this.a.Fa=this.a.e.top;this.a.C&&""!==b&&(a=b);if(this.a.U()){var c="?";if(-1<a.indexOf("?")||-1<a.indexOf("&"))c="&";a+=c+this.a.Za;this.a.b=
this.a.f.createElement("iframe");this.a.b.src=a;this.a.g+=10;this.a.b.frameBorder="0";this.a.d.appendChild(this.a.b)}else this.a.b=new wb(this.a.d,'<iframe src="'+a+'" id="ut_iframe_reveal" name="ut_iframe_reveal" class="ut_iframe_reveal" scrolling="no" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true" allowTransparency="true" style="margin:0;padding:0;display:block;border:none;position: relative;height: 100%;width: 100%;max-width: 100%;-webkit-backface-visibility: hidden;"></iframe>'),
this.a.Fa=this.a.b.contentWindow;this.a.b.name="ut_iframe_reveal"+this.a.q;this.a.b.id="ut_iframe_reveal"+this.a.q;this.a.b.frameBorder="0";this.a.b.scrolling="no";this.a.b.className="ut_iframe_reveal";this.a.b.setAttribute("allowfullscreen","true");this.a.b.setAttribute("mozallowfullscreen","true");this.a.b.setAttribute("webkitallowfullscreen","true");this.a.b.setAttribute("allowtransparency","true");this.a.b.style.margin=0;this.a.b.style.padding=0;this.a.b.style.display="none";this.a.b.style.border=
"none";this.a.b.style.position="absolute";this.a.b.style.top=0;this.a.b.style.left=0;this.a.b.style.height="100%";this.a.b.style.width="100%";this.a.b.style.maxWidth="100%";this.a.b.style.webkitBackfaceVisibility&&(this.a.b.style.webkitBackfaceVisibility="hidden");this.ab(function(){"opened"==g.a.l&&g.a.ka();g.sendFormatMessage("-t-visibleaction")});this.$a(function(){"opened"==g.a.l&&g.a.ca();g.sendFormatMessage("-t-hiddenaction")});R(this.a.e.top,"scroll",function(){g.c.h&&g.c.h!=g.Aa()&&(window.scrollTo(0,
g.c.h),g.m())},!1);R(this.a.Fa,"message",function(a){g.handleMessage(a)},!1);R(this.a.e.top,"orientationchange",function(){g.sendFormatMessage("-t-beforeorientationchange");g.Ba();g.sendFormatMessage("-t-afterorientationchange")},!1);R(this.a.e.top,"resize",function(){g.sendFormatMessage("-t-beforewindowresize");g.V()},!1)};this.Aa=function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var a=document.body,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop};this.rb=function(){if(h.friendlyFrame){for(var a,
b=this.a.e.top.document.getElementsByTagName("iframe"),c=0;c<b.length;c++)if(b[c].getAttribute("src"))try{if((b[c].contentDocument||b[c].contentWindow.document).getElementById("ut_lb_"+this.a.q)){a=b[c];break}}catch(d){}if(!a)throw"no parent iframe found";a.style.display="none";this.a.D=sb("div",{id:"ut_lb_"+this.a.q,name:"ut_lb_"+this.a.q,className:"ut_lb"});a.parentNode&&a.parentNode.insertBefore(this.a.D,a.nextSibling)}else this.a.D=this.a.f.getElementById(this.a.Ya+this.a.q)};this.start=function(){var b=
this;b.log("start called",this.a.X);this.a.X||(this.a.j&&(mraid.useCustomClose(!0),mraid.setExpandProperties({lockOrientation:"true"})),this.a.X=!0,h.O&&(this.rb(),this.a.D.style.height=h.Fb+"px",this.a.D.style.width=h.Gb+"px"),""!==a?(b.log("embedding ad"),this.a.l="closed",this.c=this.a.e.top.document.getElementsByTagName("body")[0],this.vb=this.c.style.cssText,this.u=this.a.e.top.document.getElementsByTagName("html")[0],this.wb=this.u.style.cssText,b.a.W=b.na(),this.ib(),h.pgEffect||b.m(),b.domReady.ready(function(){if(h.autoexpand&&
!h.pgEffect)b.a.w=b.a.t(),b.a.g=b.a.w,b.c.scrollTop?b.c.h=b.c.scrollTop:b.a.f.scrollTop?b.c.h=b.a.f.scrollTop:b.a.f.documentElement.scrollTop?(b.c.h=b.a.f.documentElement.scrollTop,b.c.ja=!0):b.c.h="0",b.c.ja&&window.scrollTo(0,b.c.h);else if(h.pgEffect){b.tb=(new Date).getTime();"flux"==h.pgEffect&&(b.c.style.backgroundColor=h.backgroundColor);var a={background:void 0,onrendered:function(a){b.sb=(new Date).getTime();"custom"==h.pgEffect&&(b.eb=a.toDataURL());b.Oa=a;b.Ka&&b.open()}},c=function(){if("function"==
typeof html2canvas){if(h.screenshotConfig)for(var d in h.screenshotConfig)a[d]="proxy"!==d||"proxy"==d&&"string"==typeof h.screenshotConfig.proxy?h.proxy:"http://h2cp.herokuapp.com/:8008";b.a.w=b.a.t();b.a.g=b.a.w;b.c.scrollTop?b.c.h=b.c.scrollTop:b.a.f.scrollTop?b.c.h=b.a.f.scrollTop:b.a.f.documentElement.scrollTop?(b.c.h=b.a.f.documentElement.scrollTop,b.c.ja=!0):b.c.h="0";b.m(b.a.g);setTimeout(function(){html2canvas(b.a.s,a)},0);b.c.ja&&window.scrollTo(0,b.c.h)}else setTimeout(c,20)};c()}else b.a.j||
b.close(!0)})):b.k("ERROR","STARTING_NO_CREATIVE_HTML"))};this.m=function(a){a||(a=this.a.t());this.a.j&&(a=window.innerHeight?window.innerHeight:document.body&&document.body.offsetHeight?document.body.offsetHeight:0);this.a.g=a;this.a.d?this.a.d.style.height=a+"px":console.log("no self.model.container");(this.c.h||0===this.c.h)&&this.a.e.top.scrollTo(0,this.c.h);this.a.b.style?(this.a.b.style.display="block",this.a.b.style.height=a+"px"):console.log("no self.model.ut_iframe_reveal.style");!this.a.U()&&
this.a.b.r&&(this.a.n||(this.a.n=this.a.b.r.getElementById("ut_iframe_reveal")),this.a.n.style.height=a+"px");"closed"!=this.a.l&&(this.c.style.height=a+"px",this.u.style.height=a-1+"px");this.ma()};this.ma=function(){var a={message:this.a.i+"heightUpdate"};a.height=this.a.g;a.expandHeight=this.a.g;this.a.W&&a.height++;this.sendFormatMessage(la(a),!1)};this.fb=function(){var a=this.a.t();this.c.style.height=a+"px";this.u.style.height=a-1+"px";this.u.style.overflow="hidden";this.u.style.display="block";
this.c.style.display="block";this.a.b.style.height=a+"px";this.a.d.style.height=a+"px"};this.end=function(){this.a.d&&this.a.d.parentNode&&this.a.d.parentNode.removeChild(this.a.d);"defined"!==typeof window.PUBLISHER_FIX_LOADED&&delete window.PUBLISHER_FIX_LOADED};this.a.FORMAT="sspg";this.a.l="closed";this.a.ra=!1;this.a.qa=!1;this.a.q=parseInt(k.toString());this.a.d=null;this.Pa={self:this,custom:function(){var a=this.self;a.sendFormatMessage("-kv-scrollTop-"+a.c.h);a.sendFormatMessage("-pg-"+a.eb);
a.sendFormatMessage("-kv-time-"+(a.sb-a.tb));a.Qa()}};this.Qa=function(){var a=this;a.log("showAd");setTimeout(function(){a.a.b.style.visibility="hidden";setTimeout(function(){a.a.b.style.visibility="visible";a.a.d.style.cssText=a.a.Ra[1];a.a.d.style.top=a.c.h+"px";a.a.d.style.display="block";a.a.d.className+=" ut_open";a.a.l="opened";setTimeout(function(){a.m();a.V();a.ma();a.sendFormatMessage("expanded");h.manualACTStart||0===h.autoCloseTimePeriod||a.ia();a.a.ka()},20)},20)},20)};this.open=function(){var a=
this;a.Ka=!0;(a.a.W||-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"))&&setTimeout(function(){a.fb()},40);a.a.qa=!0;a.c.h=a.Aa();a.a.ra?this.k("replay",this.a.FORMAT):(a.zb(),a.k("start",a.a.FORMAT));if(!h.pgEffect)a.Qa();else if(html2canvas&&a.Oa)if(a.Pa[h.pgEffect])a.Pa[h.pgEffect]();else throw Error('SSPG does not recognize the "'+h.pgEffect+'" effect');};this.Xa=this.info;this.info=function(a,b,c){c=c||{};c.isFullPageFlex=this.na();c.pgEffect=h.pgEffect;c.expandHeight=
this.a.g;c.leaveBehindHeight=h.leaveBehindHeight;c.leaveBehindWidth=h.leaveBehindWidth;return this.Xa(a,b,c)};this.close=function(a){this.a.ca();this.a.S();a||this.k("close",this.a.FORMAT);this.a.l="closed";this.c.h=null;S(this.a.e.top,"scroll");S(this.a.e.top,"resize");S(this.a.e.top,"orientationchange");!h.O&&this.a.j&&mraid.close();this.gb()};this.gb=function(){this.c.style.cssText=this.vb;this.c.style.marginTop="";this.u.style.cssText=this.wb;h.O?(this.a.d.style.visibility="none",this.Na(),this.La(),
this.m(h.leaveBehindHeight),this.ma(),this.a.d.style.visibility="visible"):this.a.d.style.display="none";this.a.d.className+=" ut_closed";this.sendFormatMessage("-t-closeAd");this.sendFormatMessage("close");null!==this.a.Z&&this.a.Z()};this.La=function(){var a=this.lb(this.a.D);this.a.d.style.left=a[0]+"px";this.a.d.style.top=a[1]+"px"};this.Na=function(){this.a.b.style.width=h.leaveBehindWidth+"px";this.a.b.style.height=h.leaveBehindHeight+"px";this.a.d.style.height=h.leaveBehindHeight+"px";this.a.d.style.width=
h.leaveBehindWidth+"px";!this.a.U()&&this.a.b.r&&(this.a.n||(this.a.n=this.a.b.r.getElementById("ut_iframe_reveal")),this.a.n.style.width=h.leaveBehindWidth+"px",this.a.n.style.height=h.leaveBehindHeight+"px")};this.lb=function(a){var b=0,c=0;if("undefined"!=typeof a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}return[b,c]};this.Wa=this.handleMessage;this.handleMessage=function(a){if(a&&"object"==typeof a&&a.A){var b=a.A,c=!0;if(b.data==this.a.i+"opened"||b.data==this.a.i+
"start")c=!1,h.autoexpand&&b.data==this.a.i+"start"||b.data==this.a.i+"opened"?this.Oa||!h.pgEffect?this.open():this.Ka=!0:this.close(!0);else if(b.data==this.a.i+"closed")c=!1,this.sendFormatMessage("scroll"),this.close(!1);else if(b.data==this.a.i+"scrollToTop")window.scrollTo(0,1);else if(b.data!=this.a.i+"ready"&&b.data!=this.a.i+"startACT"){try{var d=ka(b.data)}catch(e){return}d.message&&-1<d.message.toUpperCase().indexOf("REDIRECT")?(this.a.ca(),this.a.kb(),h.manualACTStart||"opened"!=this.a.l||
0===h.autoCloseTimePeriod||this.a.j||this.ia()):"opened"==this.a.l&&d.message&&!this.Y(d.message.replace(this.a.i,""))&&d.target&&this.a.ka()}c&&this.Wa(a)}};this.zb=function(){this.a.ra=!0};this.Da()}ga(W,za);myWin.ut_bannerid=myWin.ut_bannerid||0;var X={ignoredElements:myWin.ut_ignoredElements||{},ignoredEvents:myWin.ut_ignoredEvents||{},thirdPartyTrackers:myWin.ut_thirdPartyTrackers||{},utPatchURL:myWin.ut_patchUrl||"",backgroundColor:myWin.ut_backgroundColor||"#fff",autoexpand:1};
"undefined"!=typeof myWin.ut_pubWidth&&(X.pubWidth=myWin.Jb);"undefined"!=typeof myWin.ut_trackingDebugFunction&&(X.trackingDebugFunction=myWin.ut_trackingDebugFunction);"undefined"!=typeof myWin.ut_closeDebugFunction&&(X.closeDebugFunction=myWin.ut_closeDebugFunction);"undefined"!=typeof myWin.ut_encodeClickUrl&&(X.encodeClickUrl=myWin.ut_encodeClickUrl);"undefined"!=typeof myWin.ut_autocloseTimePeriod&&(X.autoCloseTimePeriod=myWin.ut_autocloseTimePeriod);
"undefined"!=typeof myWin.ut_pgEffect&&(X.pgEffect=myWin.ut_pgEffect);"undefined"!=typeof myWin.ut_screenshotConfig&&(X.screenshotConfig=myWin.ut_screenshotConfig);"undefined"!=typeof myWin.ut_fr&&(X.inIframe=!!parseInt(myWin.ut_fr,0));"undefined"!=typeof myWin.ut_fb&&(X.inFrameBuster=!!parseInt(myWin.ut_fb,0));"undefined"!=typeof myWin.ut_patchMaxLoadTime&&(X.publisherFixTimePeriod=myWin.ut_patchMaxLoadTime);"undefined"!=typeof myWin.ut_iconLocation&&(X.iloc=myWin.ut_iconLocation);
"undefined"!=typeof myWin.ut_autoexpand&&(X.autoexpand=myWin.ut_autoexpand);"undefined"!=typeof myWin.ut_lb_height&&(X.leaveBehindHeight=myWin.ut_lb_height);"undefined"!=typeof myWin.ut_lb_width&&(X.leaveBehindWidth=myWin.ut_lb_width);"undefined"!=typeof myWin.ut_autoclose_interval&&(X.useAutoCloseInterval=myWin.ut_autoclose_interval);"undefined"!=typeof myWin.ut_manual_act_start&&(X.manualACTStart=myWin.ut_manual_act_start);"undefined"!=typeof myWin.ut_delay_close&&(X.delayClose=myWin.ut_delay_close);
new W(myWin.ut_creativehtml,myWin.Ib||"",myWin.ut_imagearray||[],myWin.ut_clickBase,myWin.ut_eventBase,myWin.ut_clickTags,myWin.ut_bannerid,X);var Y=["undertone","formats","Sspg"],Z=window||r;Y[0]in Z||!Z.execScript||Z.execScript("var "+Y[0]);for(var $;Y.length&&($=Y.shift());){var xb;if(xb=!Y.length)xb=void 0!==W;xb?Z[$]=W:Z=Z[$]?Z[$]:Z[$]={}};
return undertone;}(window.ut_win||window, window));

/*
  html2canvas 0.5.0-alpha2 <http://html2canvas.hertzen.com>
  Copyright (c) 2015 Niklas von Hertzen

  Released under MIT License
*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f){(function(n,o){(function(){"use strict";function d(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function t(e){return"object"==typeof e&&null!==e}function l(){}function s(){return function(){n.nextTick(c)}}function u(){var e=0,n=new P(c),f=document.createTextNode("");return n.observe(f,{characterData:!0}),function(){f.data=e=++e%2}}function a(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(c,1)}}function c(){for(var e=0;M>e;e+=2){var n=R[e],f=R[e+1];n(f),R[e]=void 0,R[e+1]=void 0}M=0}function y(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function r(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(n){return V.error=n,V}}function w(e,n,f,o){try{e.call(n,f,o)}catch(d){return d}}function b(e,n,f){N(function(e){var o=!1,d=w(f,n,function(f){o||(o=!0,n!==f?x(e,f):k(e,f))},function(n){o||(o=!0,q(e,n))},"Settle: "+(e._label||" unknown promise"));!o&&d&&(o=!0,q(e,d))},e)}function g(e,n){n._state===T?k(e,n._result):e._state===U?q(e,n._result):z(n,void 0,function(n){x(e,n)},function(n){q(e,n)})}function h(e,n){if(n.constructor===e.constructor)g(e,n);else{var f=v(n);f===V?q(e,V.error):void 0===f?k(e,n):i(f)?b(e,n,f):k(e,n)}}function x(e,n){e===n?q(e,m()):d(n)?h(e,n):k(e,n)}function j(e){e._onerror&&e._onerror(e._result),A(e)}function k(e,n){e._state===S&&(e._result=n,e._state=T,0===e._subscribers.length||N(A,e))}function q(e,n){e._state===S&&(e._state=U,e._result=n,N(j,e))}function z(e,n,f,o){var d=e._subscribers,i=d.length;e._onerror=null,d[i]=n,d[i+T]=f,d[i+U]=o,0===i&&e._state&&N(A,e)}function A(e){var n=e._subscribers,f=e._state;if(0!==n.length){for(var o,d,i=e._result,t=0;t<n.length;t+=3)o=n[t],d=n[t+f],o?D(f,o,d,i):d(i);e._subscribers.length=0}}function B(){this.error=null}function C(e,n){try{return e(n)}catch(f){return W.error=f,W}}function D(e,n,f,o){var d,t,l,s,u=i(f);if(u){if(d=C(f,o),d===W?(s=!0,t=d.error,d=null):l=!0,n===d)return void q(n,r())}else d=o,l=!0;n._state!==S||(u&&l?x(n,d):s?q(n,t):e===T?k(n,d):e===U&&q(n,d))}function E(e,n){try{n(function(n){x(e,n)},function(n){q(e,n)})}catch(f){q(e,f)}}function F(e,n,f,o){this._instanceConstructor=e,this.promise=new e(y,o),this._abortOnReject=f,this._validateInput(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._init(),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):q(this.promise,this._validationError())}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(e){this._id=en++,this._state=void 0,this._result=void 0,this._subscribers=[],y!==e&&(i(e)||G(),this instanceof I||H(),E(this,e))}var J;J=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,L=J,M=(Date.now||function(){return(new Date).getTime()},Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return l.prototype=e,new l},0),N=function(e,n){R[M]=e,R[M+1]=n,M+=2,2===M&&K()},O="undefined"!=typeof window?window:{},P=O.MutationObserver||O.WebKitMutationObserver,Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,R=new Array(1e3);K="undefined"!=typeof n&&"[object process]"==={}.toString.call(n)?s():P?u():Q?a():p();var S=void 0,T=1,U=2,V=new B,W=new B;F.prototype._validateInput=function(e){return L(e)},F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._init=function(){this._result=new Array(this.length)};var X=F;F.prototype._enumerate=function(){for(var e=this.length,n=this.promise,f=this._input,o=0;n._state===S&&e>o;o++)this._eachEntry(f[o],o)},F.prototype._eachEntry=function(e,n){var f=this._instanceConstructor;t(e)?e.constructor===f&&e._state!==S?(e._onerror=null,this._settledAt(e._state,n,e._result)):this._willSettleAt(f.resolve(e),n):(this._remaining--,this._result[n]=this._makeResult(T,n,e))},F.prototype._settledAt=function(e,n,f){var o=this.promise;o._state===S&&(this._remaining--,this._abortOnReject&&e===U?q(o,f):this._result[n]=this._makeResult(e,n,f)),0===this._remaining&&k(o,this._result)},F.prototype._makeResult=function(e,n,f){return f},F.prototype._willSettleAt=function(e,n){var f=this;z(e,void 0,function(e){f._settledAt(T,n,e)},function(e){f._settledAt(U,n,e)})};var Y=function(e,n){return new X(this,e,!0,n).promise},Z=function(e,n){function f(e){x(i,e)}function o(e){q(i,e)}var d=this,i=new d(y,n);if(!L(e))return q(i,new TypeError("You must pass an array to race.")),i;for(var t=e.length,l=0;i._state===S&&t>l;l++)z(d.resolve(e[l]),void 0,f,o);return i},$=function(e,n){var f=this;if(e&&"object"==typeof e&&e.constructor===f)return e;var o=new f(y,n);return x(o,e),o},_=function(e,n){var f=this,o=new f(y,n);return q(o,e),o},en=0,nn=I;I.all=Y,I.race=Z,I.resolve=$,I.reject=_,I.prototype={constructor:I,then:function(e,n){var f=this,o=f._state;if(o===T&&!e||o===U&&!n)return this;var d=new this.constructor(y),i=f._result;if(o){var t=arguments[o-1];N(function(){D(o,d,t,i)})}else z(f,d,e,n);return d},"catch":function(e){return this.then(null,e)}};var fn=function(){var e;e="undefined"!=typeof o?o:"undefined"!=typeof window&&window.document?window:self;var n="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),i(n)}();n||(e.Promise=nn)},on={Promise:nn,polyfill:fn};"function"==typeof e&&e.amd?e(function(){return on}):"undefined"!=typeof f&&f.exports?f.exports=on:"undefined"!=typeof this&&(this.ES6Promise=on)}).call(this)}).call(this,n("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(e,n){function f(){if(!t){t=!0;for(var e,n=i.length;n;){e=i,i=[];for(var f=-1;++f<n;)e[f]();n=i.length}t=!1}}function o(){}var d=n.exports={},i=[],t=!1;d.nextTick=function(e){i.push(e),t||setTimeout(f,0)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.on=o,d.addListener=o,d.once=o,d.off=o,d.removeListener=o,d.removeAllListeners=o,d.emit=o,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],3:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,n){function f(e,n,f){for(var o=e.getElementsByTagName(f),d=n.getElementsByTagName(f),i=o.length,t=0;i>t;t++)d[t].value=o[t].value}function o(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function d(e){[].slice.call(e.querySelectorAll("canvas"),0).forEach(function(e){e.setAttribute(c,"canvas-"+y++)})}function i(e,n){[].slice.call(e.querySelectorAll("["+c+"]"),0).forEach(function(e){try{var f=n.querySelector("["+c+'="'+e.getAttribute(c)+'"]');f&&(f.width=e.width,f.height=e.height,f.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(o){a("Unable to copy canvas content from",e,o)}e.removeAttribute(c)})}function t(e){return[].slice.call(e.childNodes,0).filter(u).forEach(function(n){"SCRIPT"===n.tagName?e.removeChild(n):t(n)}),e}function l(){return document.documentMode&&document.documentMode<=9}function s(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),o=e.firstChild;o;)(n===!0||1!==o.nodeType||"SCRIPT"!==o.nodeName)&&f.appendChild(s(o,n)),o=o.nextSibling;return f}function u(e){return e.nodeType===Node.ELEMENT_NODE}var a=e("./log"),p=e("./promise"),c="data-html2canvas-canvas-clone",y=0;n.exports=function(e,n,u,a,c,y,m){d(e);var r=l()?s(e.documentElement,c.javascriptEnabled):e.documentElement.cloneNode(!0),v=n.createElement("iframe");return v.className="html2canvas-container",v.style.visibility="hidden",v.style.position="fixed",v.style.left="-10000px",v.style.top="0px",v.style.border="0",v.width=u,v.height=a,v.scrolling="no",n.body.appendChild(v),new p(function(n){var d=v.contentWindow.document;f(e.documentElement,r,"textarea"),f(e.documentElement,r,"select"),v.contentWindow.onload=v.onload=function(){var f=setInterval(function(){d.body.childNodes.length>0&&(i(e,d),clearInterval(f),"view"===c.type&&v.contentWindow.scrollTo(y,m),n(v))},50)},d.open(),d.write("<!DOCTYPE html><html></html>"),o(e,y,m),d.replaceChild(c.javascriptEnabled===!0?d.adoptNode(r):t(d.adoptNode(r)),d.documentElement),d.close()})}},{"./log":15,"./promise":18}],5:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){var n=l[e.toLowerCase()];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e.toLowerCase())return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],6:[function(e,n){function f(e,n){var f=j++;if(n=n||{},n.logging&&(window.html2canvas.logging=!0,window.html2canvas.start=Date.now()),n.async="undefined"==typeof n.async?!0:n.async,n.allowTaint="undefined"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer="undefined"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled="undefined"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout="undefined"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return a.reject("Proxy must be used when rendering url");var i=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(u(e),n.proxy,document,i,t,n).then(function(e){return d(e.contentWindow.document.documentElement,e,n,i,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),o(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function o(e,n,f,o,i){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+i,s="["+l+"='"+i+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,p=u.document.querySelector(s),c=a.resolve("function"==typeof n.onclone?n.onclone(u.document):!0);return c.then(function(){return d(p,t,n,f,o)})})}function d(e,n,f,o,d){var u=n.contentWindow,a=new p(u.document),c=new y(f,a),r=h(e),w="view"===f.type?o:l(u.document),b="view"===f.type?d:s(u.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?t(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===u.document.body||e===u.document.documentElement||null!=f.canvas?g.canvas:t(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:u.pageXOffset,y:u.pageYOffset}),i(n,f),o})}function i(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function t(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));return f.width=n.width,f.height=n.height,v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",d-o,"height:",t-i),v("Resulting crop with width",n.width,"and height",n.height," with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,d-o,t-i,n.x,n.y,d-o,t-i),f}function l(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function s(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function u(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var a=e("./promise"),p=e("./support"),c=e("./renderers/canvas"),y=e("./imageloader"),m=e("./nodeparser"),r=e("./nodecontainer"),v=e("./log"),w=e("./utils"),b=e("./clone"),g=e("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;f.Promise=a,f.CanvasRenderer=c,f.NodeContainer=r,f.log=v,f.utils=w,n.exports="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return a.reject("No canvas support")}:f},{"./clone":4,"./imageloader":13,"./log":15,"./nodecontainer":16,"./nodeparser":17,"./promise":18,"./proxy":19,"./renderers/canvas":23,"./support":25,"./utils":29}],7:[function(e,n){function f(e){if(this.src=e,d("DummyImageContainer for",e),!this.promise||!this.image){d("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new o(function(e,f){n.onload=e,n.onerror=f,n.src=i(),n.complete===!0&&e(n)})}}var o=e("./promise"),d=e("./log"),i=e("./utils").smallImage;n.exports=f},{"./log":15,"./promise":18,"./utils":29}],8:[function(e,n){function f(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e("./utils").smallImage;n.exports=f},{"./utils":29}],9:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":8}],10:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var t=this,l=i(n);this.promise=(f?new d(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,l,o)).then(function(n){var f=e("./core");return f(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return t.image=e})}var o=e("./utils"),d=e("./promise"),i=o.getBounds,t=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return t(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":6,"./promise":18,"./proxy":19,"./utils":29}],11:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=o.resolve(!0)}var o=e("./promise");f.prototype.TYPES={LINEAR:1,RADIAL:2},n.exports=f},{"./promise":18}],12:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new o(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,f.image.complete===!0&&o(f.image)})}var o=e("./promise");n.exports=f},{"./promise":18}],13:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./promise"),d=e("./log"),i=e("./imagecontainer"),t=e("./dummyimagecontainer"),l=e("./proxyimagecontainer"),s=e("./framecontainer"),u=e("./svgcontainer"),a=e("./svgnodecontainer"),p=e("./lineargradientcontainer"),c=e("./webkitgradientcontainer"),y=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(o){this.imageExists(e,o)||(e.splice(0,0,n.call(this,f)),d("Added image #"+e.length,"string"==typeof o?o.substring(0,100):o))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new i(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new i(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new i(n,!0):this.options.proxy?new l(n,this.options.proxy):new t(n):new u(n)}return"linear-gradient"===e.method?new p(e):"gradient"===e.method?new c(e):"svg"===e.method?new a(e.args[0],this.support.svg):"IFRAME"===e.method?new s(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new t(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||u.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var n=new t(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(y(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){d("Succesfully loaded image #"+(n+1),e)},function(f){d("Failed loading image #"+(n+1),e,f)})}),this.ready=o.all(this.images.map(this.getPromise,this)),d("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,i=o.race([e.promise,new o(function(o,i){f=setTimeout(function(){d("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return i["catch"](function(){clearTimeout(f)}),i},n.exports=f},{"./dummyimagecontainer":7,"./framecontainer":10,"./imagecontainer":12,"./lineargradientcontainer":14,"./log":15,"./promise":18,"./proxyimagecontainer":20,"./svgcontainer":26,"./svgnodecontainer":27,"./utils":29,"./webkitgradientcontainer":30}],14:[function(e,n){function f(e){o.apply(this,arguments),this.type=this.TYPES.LINEAR;var n=null===e.args[0].match(this.stepRegExp);n?e.args[0].split(" ").reverse().forEach(function(e){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,f=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=f,this.y1=n}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(this.stepRegExp);return{color:new d(n[1]),stop:"%"===n[3]?n[2]/100:null}},this),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/,n.exports=f},{"./color":5,"./gradientcontainer":11}],15:[function(e,n){n.exports=function(){window.html2canvas.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-window.html2canvas.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}},{}],16:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){return e&&"matrix"===e[1]?e[2].split(",").map(function(e){return parseFloat(e.trim())}):void 0}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null
},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",f=f.trim().split(" "),1===f.length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":5,"./utils":29}],17:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new V(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(X(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new U(X(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0],u=n[0][1],a=n[1][0],p=n[1][1],c=n[2][0],y=n[2][1],m=n[3][0],r=n[3][1],v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof V}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var f=e.css("border"+n+"Radius"),o=f.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position"),f=-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto";return"auto"!==f}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./promise"),V=e("./stackingcontext"),W=e("./utils"),X=W.bind,Y=W.getBounds,Z=W.parseBackgrounds,$=W.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(X(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Z(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new V(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?$(f):Y(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper"),d=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var _={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=_[o]?_[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css("backgroundClip"),t=[];switch(i){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":5,"./fontmetrics":9,"./log":15,"./nodecontainer":16,"./promise":18,"./pseudoelementcontainer":21,"./stackingcontext":24,"./textcontainer":28,"./utils":29,punycode:3}],18:[function(e,n){n.exports=e("es6-promise").Promise},{"es6-promise":1}],19:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return a.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?p(s):i(f,s,d).then(function(e){return r(e.content)})}function d(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?a.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})}function i(e,n,f){return new a(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++v+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){y("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){y("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return m(e,f,d,i,t,0,0)})}var a=e("./promise"),p=e("./xhr"),c=e("./utils"),y=e("./log"),m=e("./clone"),r=c.decode64,v=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{"./clone":4,"./log":15,"./promise":18,"./utils":29,"./xhr":31}],20:[function(e,n){function f(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var i=this;this.promise=new d(function(f,d){i.image.crossOrigin="Anonymous",i.image.onload=f,i.image.onerror=d,new o(e,n,document).then(function(e){i.image.src=e})["catch"](d)})}var o=e("./proxy").ProxyURL,d=e("./promise");n.exports=f},{"./promise":18,"./proxy":19}],21:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":16}],22:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":15}],23:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement("canvas");return d.width=n.width,d.height=n.height,o=d.getContext("2d"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":14,"../log":15,"../renderer":22}],24:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":16}],25:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],26:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?o.resolve(n.inlineFormatting(e)):d(e)}).then(function(e){return new o(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./promise"),d=e("./xhr"),i=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?o.resolve():o.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):i(e)},n.exports=f},{"./promise":18,"./utils":29,"./xhr":31}],27:[function(e,n){function f(e,n){this.src=e,this.image=null;
var f=this;this.promise=n?new d(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new d(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer"),d=e("./promise");f.prototype=Object.create(o.prototype),n.exports=f},{"./promise":18,"./svgcontainer":26}],28:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":16}],29:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=" \r\n	",u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],30:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?this.TYPES.LINEAR:this.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":11}],31:[function(e,n){function f(e){return new o(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}var o=e("./promise");n.exports=f},{"./promise":18}]},{},[6])(6)});